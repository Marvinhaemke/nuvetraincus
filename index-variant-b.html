<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script defer src="/_vercel/insights/script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
    rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/css/intlTelInput.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/js/intlTelInput.min.js"></script>
  <link rel="stylesheet" id="silktide-consent-manager-css" href="/cookie-banner/silktide-consent-manager.css">
  <script src="/cookie-banner/silktide-consent-manager.js"></script>
  <script>
    silktideCookieBannerManager.updateCookieBannerConfig({
      background: {
        showBackground: false
      },
      cookieIcon: {
        position: "bottomLeft"
      },
      cookieTypes: [
        {
          id: "necessary",
          name: "Necessary",
          description: "<p>These cookies are necessary for the website to function properly and cannot be switched off. They help with things like logging in and setting your privacy preferences.</p>",
          required: true,
          onAccept: function () {
            console.log('Add logic for the required Necessary here');
          }
        },
        {
          id: "analytical",
          name: "Analytical",
          description: "<p>These cookies help us improve the site by tracking which pages are most popular and how visitors move around the site.</p>",
          required: false,
          onAccept: function () {
            gtag('consent', 'update', {
              analytics_storage: 'granted',
            });
            dataLayer.push({
              'event': 'consent_accepted_analytical',
            });
          },
          onReject: function () {
            gtag('consent', 'update', {
              analytics_storage: 'denied',
            });
          }
        }
      ],
      text: {
        banner: {
          description: "<p>We use cookies on our site to enhance your user experience, provide personalized content, and analyze our traffic. <a href=\"https://global-sovereign.com/privacy\" target=\"_blank\">Cookie Policy.</a></p>",
          acceptAllButtonText: "Accept all",
          acceptAllButtonAccessibleLabel: "Accept all cookies",
          rejectNonEssentialButtonText: "Reject non-essential",
          rejectNonEssentialButtonAccessibleLabel: "Reject non-essential",
          preferencesButtonText: "Preferences",
          preferencesButtonAccessibleLabel: "Toggle preferences"
        },
        preferences: {
          title: "Customize your cookie preferences",
          description: "<p>We respect your right to privacy. You can choose not to allow some types of cookies. Your cookie preferences will apply across our website.</p>",
          creditLinkText: "Get this banner for free",
          creditLinkAccessibleLabel: "Get this banner for free"
        }
      },
      position: {
        banner: "bottomCenter"
      }
    });
  </script>
  <title>Global Sovereign - Change the System</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-size: calc(15px + 0.390625vw);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: radial-gradient(circle at top left, rgba(0, 0, 0, 1) 0%, rgba(10, 27, 47, 1) 40%, rgba(10, 27, 47, 1) 100%);
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      position: relative !important;
    }

    .container {
      max-width: 1200px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .logo-section {
      margin: 0px 0 20px 0;
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .logo-icon {
      width: auto;
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .logo-icon svg {
      width: 100%;
      height: 100%;
    }

    .logo-text {
      font-size: 28px;
      font-weight: 700;
      letter-spacing: 2px;
      background: linear-gradient(135deg, #2c5f6f 0%, #d4a574 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .headline {
      text-align: center;
      margin-bottom: 30px;
      padding: 0 20px;
    }

    .headline h1 {
      font-size: 36px;
      font-weight: 700;
      color: #fff;
      line-height: 1.3 !important;
      margin-bottom: 10px;
    }

    .headline .warning {
      font-size: 24px;
      color: #B89745;
      font-weight: 800;
      display: inline;
    }

    .subheadline {
      font-size: 24px;
      color: #fff;
      font-weight: 400;
    }

    .video-container {
      width: 100%;
      /*max-width: 900px;*/
      height: 100%;
      background: linear-gradient(135deg, #2c5f6f 0%, #1a3a44 100%);
      border-radius: 20px;
      overflow: hidden;

      margin-bottom: 40px;
      position: relative;
      /*padding-bottom: 56.25%; 16:9 aspect ratio */

      border-radius: 25px;
      border: 2px solid #B89745;
      /* background: #FFF; */
      box-shadow: 0 8px 25px rgba(212, 165, 116, 0.4);
    }

    .video-container::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #2c5f6f, #d4a574, #2c5f6f);
      border-radius: 20px;
      z-index: -1;
      opacity: 0.5;
      animation: borderGlow 3s ease-in-out infinite;
    }

    @keyframes borderGlow {

      0%,
      100% {
        opacity: 0.3;
      }

      50% {
        opacity: 0.6;
      }
    }

    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .cta-button {
      background: linear-gradient(135deg, #d4a574 0%, #B89745 100%);
      margin: auto;
      color: white;
      padding: 18px 45px;
      font-size: 18px;
      font-weight: 600;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(212, 165, 116, 0.4);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      position: relative;
      overflow: hidden;
    }

    .cta-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .cta-button:hover::before {
      left: 100%;
    }

    .cta-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 35px rgba(212, 165, 116, 0.5);
      background: linear-gradient(135deg, #e0b584 0%, #d67852 100%);
    }

    .cta-button svg {
      width: 22px;
      height: 22px;
    }

    @media (max-width: 768px) {
      .logo-icon {
        height: 100px;
      }
      .headline h1 {
        font-size: 24px;
      }

      .headline .warning {
        font-size: 18px;
      }

      .subheadline {
        font-size: 18px;
      }

      .logo-text {
        font-size: 24px;
      }

      .cta-button {
        font-size: 16px;
        padding: 15px 30px;
      }

      .decoration {
        display: none;
      }
    }
  </style>

  <!-- Meta Pixel Code -->
  <script>
    !function (f, b, e, v, n, t, s) {
      if (f.fbq) return; n = f.fbq = function () {
        n.callMethod ?
          n.callMethod.apply(n, arguments) : n.queue.push(arguments)
      };
      if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
      n.queue = []; t = b.createElement(e); t.async = !0;
      t.src = v; s = b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t, s)
    }(window, document, 'script',
      'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1352350996316529');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=1352350996316529&ev=PageView&noscript=1" /></noscript>
  <!-- End Meta Pixel Code -->

  <meta name="username" content="user_34IoQFzUn9b5s7izW9C5faLedMy">
<meta name="offer" content="Global Sovereign">
<script src="https://d15dfsr886zcp9.cloudfront.net/tracker_script.js" defer></script>
</head>

<body>
  <!-- Decorative background elements -->
  <div class="decoration decoration-1"></div>
  <div class="decoration decoration-2"></div>

  <div class="container">
    <div class="logo-section">

      <img class="logo-icon" src="/Logo.png"></img>

    </div>

    <div class="headline">
      <h1>Stop overpaying in taxes!</h1>
      <p class="subheadline">How smart high net-worth individuals keep more of their wealth by legally paying less taxes.</p>
    </div>

    <div class="video-container">

      <div id="wistia_video">
        <script src="https://fast.wistia.com/player.js" async></script>
        <script src="https://fast.wistia.com/embed/d6k8gtqoyq.js" async type="module"></script>
        <style>
          wistia-player[media-id='d6k8gtqoyq']:not(:defined) {
            background: center / contain no-repeat url('https://fast.wistia.com/embed/medias/d6k8gtqoyq/swatch');
            display: block;
            filter: blur(5px);
            padding-top: 56.25%;
          }
        </style> <wistia-player media-id="d6k8gtqoyq" aspect="1.7777777777777777"></wistia-player>
      </div>

      <iframe id="youtube_video"
        src="https://www.youtube.com/embed/4rrjxpN_tiA?autoplay=0&controls=1&rel=0&modestbranding=1&hd=1"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>
      <style>
        #youtube_video {
          display: none;
        }

        #wistia_video {
          display: block;
        }
      </style>
      <script>
        // Wistia fallback - directly test video URL accessibility
        (function () {
          let fallbackShown = false;

          function testWistiaAccess() {
            const videoId = 'd6k8gtqoyq'; // Replace with your actual video ID
            const videoUrl = `https://fast.wistia.com/embed/medias/d6k8gtqoyq`;

            fetch(videoUrl, {
              method: 'GET',
              mode: 'no-cors' // This prevents CORS issues while still testing if request is blocked
            })
              .then(response => {
                // If we get here, the request wasn't blocked
                console.log('Wistia video accessible - video should work');
              })
              .catch(error => {
                // Request was blocked or failed
                console.log('Wistia video blocked - showing fallback');
                showFallback();
              });
          }

          function showFallback() {
            if (!fallbackShown) {

              document.getElementById('youtube_video').style.setProperty('display', 'block', 'important');
              fallbackShown = true;
              console.log('Wistia fallback activated');
            }
          }

          // Test on page load
          window.addEventListener('load', testWistiaAccess);
        })();
      </script>

    </div>

    <button class="cta-button" onclick="applyForAppointment()">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path
          d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z" />
      </svg>
      Apply For A Call!
    </button>
  </div>

  <div class="form-container" id="form">


    <!-- STEP 0: Qualification Message -->
    <div id="step0" class="step active fade-in-step">
      <div style="text-align: center !important;" class="step-inner">
        <h2>Read Before You Apply: </br>For High-Income Earners Only</h2>
        <div class="qualification-message">
          <p>This is an application for business owners and entrepreneurs with at least <strong>$300K in revenue.</strong> If
            you are below this threshold, the strategies we specialize in may not apply to your
            current situation yet. If your application does not meet the requirements for this department, we will
            unfortunately not be able to make you an offer. In this case, you will receive a cancellation notice.</p>

          <div class="important-notice">
            <p><strong>Important:</strong> Your call is reserved exclusively for you. Missed appointments or failure to
              cancel in advance will result in no further calls being offered. We ask that you respect our time as we do
              yours.</p>
          </div>
        </div>

        <button class="btn btn-primary cta-button" onclick="handleStep0()">Ready To Go! <img
            src="https://static.funnelcockpit.com/upload/8y8JSpa5mHDHAN8EX/57e212a89f891d78575b309d2f3480d3.svg"
            class="arrow-icon" alt=""></button>
      </div>

    </div>

    <!-- STEP 1: Current Situation -->
    <div id="step1" class="step">
      <div class="step-inner">
        <h2>1. Which of these best fits your current situation?</h2>
        <div class="options-grid">
          <label>
            <input type="radio" name="currentSituation" value="I'm a business owner">
            <span class="custom-radio"></span>
            <p>I'm a business owner</p>
          </label>
          <label>
            <input type="radio" name="currentSituation" value="I sold my business">
            <span class="custom-radio"></span>
            <p>I sold my business</p>
          </label>
          <label>
            <input type="radio" name="currentSituation" value="I'm an active investor">
            <span class="custom-radio"></span>
            <p>I'm an active investor</p>
          </label>
          <label>
            <input type="radio" name="currentSituation" value="None of them">
            <span class="custom-radio"></span>
            <p>None of them</p>
          </label>
        </div>
      </div>
      <p id="errorMsg1" class="errorMsg">Please select one option.</p>
      <button class="btn btn-primary cta-button" onclick="handleStep1()">Next <img
          src="https://static.funnelcockpit.com/upload/8y8JSpa5mHDHAN8EX/57e212a89f891d78575b309d2f3480d3.svg"
          class="arrow-icon" alt=""></button>
    </div>

    <!-- STEP 1B: Experience with Structures -->
    <div id="step1b" class="step">
      <div class="step-inner">
        <h2>2. Have you ever explored using U.S. or international structures to legally reduce your taxes?</h2>
        <div class="options-grid">
          <label>
            <input type="radio" name="structureExperience" value="I've tried it before - wasn't set up properly">
            <span class="custom-radio"></span>
            <p>I've tried it before - wasn't set up properly</p>
          </label>
          <label>
            <input type="radio" name="structureExperience" value="Yes - I'm actively looking into it">
            <span class="custom-radio"></span>
            <p>Yes - I'm actively looking into it</p>
          </label>
          <label>
            <input type="radio" name="structureExperience" value="I've heard of it, but don't know much">
            <span class="custom-radio"></span>
            <p>I've heard of it, but don't know much</p>
          </label>
          <label>
            <input type="radio" name="structureExperience" value="No - this is completely new to me">
            <span class="custom-radio"></span>
            <p>No - this is completely new to me</p>
          </label>
        </div>
      </div>
      <p id="errorMsg1b" class="errorMsg">Please select one option.</p>
      <button class="btn btn-primary cta-button" onclick="handleStep1b()">Next <img
          src="https://static.funnelcockpit.com/upload/8y8JSpa5mHDHAN8EX/57e212a89f891d78575b309d2f3480d3.svg"
          class="arrow-icon" alt=""></button>
    </div>

    <!-- STEP 2: Outcome Interest -->
    <div id="step3" class="step">
      <div class="step-inner">
        <h2>3. What outcome are you most focused on right now?</h2>
        <p style="font-style: italic; font-size: 0.9rem; margin-top: -1rem; margin-bottom: 1.5rem;">Select one or both
        </p>

        <div class="outcome-options">
          <label class="outcome-option-box">
            <input type="checkbox" name="outcome" value="U.S. Structure for Scaling & Tax Optimization">
            <span class="custom-checkbox"></span>
            <div class="outcome-content">
              <strong>U.S. Structure for Scaling & Tax Optimization</strong>
              <ul class="outcome-list">
                <li>Gain flexibility to operate and invest in the U.S.</li>
                <li>Set up a U.S. business structure as a non-resident</li>
                <li>Expand your business into the U.S.</li>
                <li>Explore tax strategies using compliant U.S. entities</li>
              </ul>
            </div>
          </label>

          <label class="outcome-option-box">
            <input type="checkbox" name="outcome" value="Global Tax Strategy & Asset Protection">
            <span class="custom-checkbox"></span>
            <div class="outcome-content">
              <strong>Global Tax Strategy & Asset Protection</strong>
              <ul class="outcome-list">
                <li>Build long-term wealth using compliant international entity models</li>
                <li>Protect assets across borders with trusted legal structures</li>
                <li>Reduce exposure to lawsuits, regulation, and instability</li>
                <li>Separate ownership and control with advanced structuring tools</li>
              </ul>
            </div>
          </label>
        </div>
      </div>
      <p id="errorMsg3" class="errorMsg">Please select at least one option.</p>
      <button class="btn btn-primary cta-button" onclick="handleStep2()">Next <img
          src="https://static.funnelcockpit.com/upload/8y8JSpa5mHDHAN8EX/57e212a89f891d78575b309d2f3480d3.svg"
          class="arrow-icon" alt=""></button>
    </div>

    <!-- STEP 3: Contact Info -->
    <div id="step2" class="step">
      <div class="step-inner">
        <h2>4. To proceed, we'll need your name and contact.</h2>
        <div class="contact-form">
          <div class="form-group">
            <label for="fullName" class="text-label">Full Name:</label>
            <input type="text" id="fullName" class="form-input" placeholder="Enter your full name">
            <p id="nameError" class="field-error">Please enter your name.</p>
          </div>

          <div class="form-group">
            <label for="emailAddress" class="text-label">Email Address:</label>
            <input type="email" id="emailAddress" class="form-input" placeholder="Enter your email address">
            <p id="emailError" class="field-error">Please enter a valid email address.</p>
          </div>

          <div class="form-group">
            <label for="phoneNumber" class="text-label">Phone Number:</label>
            <div class="phone-input-container">
              <input type="tel" id="phoneNumber" class="form-input phone-number-input"
                placeholder="Enter your phone number">
            </div>
            <p id="phoneError" class="field-error">Please enter a valid phone number.</p>
            <input type="hidden" id="countryCode" value="+44">
          </div>
        </div>
        <label style="display: flex; justify-content: center;">
          <input type="radio" id="optin" name="optin" value="Yes, I agree to receive SMS for scheduling purposes">
          <span class="custom-radio"></span>
          <p>Yes, I agree to receive SMS for scheduling purposes as outlined in the <a href="/privacy">Privacy Policy</a></p>
        </label>
      </div>
      <button class="btn btn-primary cta-button" onclick="handleStep3()">Next <img
          src="https://static.funnelcockpit.com/upload/8y8JSpa5mHDHAN8EX/57e212a89f891d78575b309d2f3480d3.svg"
          class="arrow-icon" alt=""></button>
    </div>

    <!-- STEP 4: Revenue Question (Qualifying) -->
    <div id="step5" class="step">
      <div class="step-inner">
        <h2>5. Is your company's annual revenue above $300K?</h2>
        <div class="options-grid">
          <label>
            <input type="radio" name="revenue" value="Yes, my companies annual revenue is above $300K">
            <span class="custom-radio"></span>
            <p>Yes, my companies annual revenue is above $300K</p>
          </label>
          <label>
            <input type="radio" name="revenue" value="No, my companies annual revenue is below $300K">
            <span class="custom-radio"></span>
            <p>No, my companies annual revenue is below $300K</p>
          </label>
        </div>
      </div>
      <p id="errorMsg5" class="errorMsg">Please select one option.</p>
      <button class="btn btn-primary cta-button" onclick="handleStep5()">Submit & Book Appointment <img
          src="https://static.funnelcockpit.com/upload/8y8JSpa5mHDHAN8EX/57e212a89f891d78575b309d2f3480d3.svg"
          class="arrow-icon" alt=""></button>
    </div>

    <!-- Disqualification Step -->
    <div id="stepDisqualified" class="step">
      <div class="step-inner">
        <h2 style="color: #ff6b6b;">Unfortunately, You Don't Qualify</h2>
        <div class="disqualified-message">
          <p style="font-size: 1.1rem; line-height: 1.6;">We appreciate your interest in our services. However, our
            specialized strategies are designed specifically for established business owners and entrepreneurs with
            companies generating <strong>at least $300K in annual revenue.</strong></p>

          <p style="font-size: 1rem; margin-top: 1.5rem;">These advanced financial structures and strategies require a
            certain business scale to be both effective and cost-efficient. We encourage you to revisit our services
            once you meet these requirements.</p>

          <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.2);">
            <p style="font-size: 0.95rem; color: #B89745;">In the meantime, we wish you the best of success in growing
              your business!</p>
          </div>
        </div>
      </div>
    </div>

    <!-- STEP 5: Calendly -->
    <div id="step6" class="step calendly-hidden">
      <div class="step-inner">
        <h2 style="margin-bottom: 12px;">Thank you! Please book your appointment below.</h2>
        <div id="calendlyContainer"></div>
      </div>
    </div>

    <!-- Step indicators -->
    <div class="step-indicator">
      <div class="step-indicator__circle active" id="circle0"></div>
      <div class="step-indicator__circle" id="circle1"></div>
      <div class="step-indicator__circle" id="circle1b"></div>
      <div class="step-indicator__circle" id="circle2"></div>
      <div class="step-indicator__circle" id="circle3"></div>
      <div class="step-indicator__circle" id="circle4"></div>
      <div class="step-indicator__circle" id="circle5"></div>
    </div>
  </div>

  <style>
    /* General layout */
    .form-container {

      margin-top: 80px;
      text-align: center;
      color: #fff;
      font-family: Arial, sans-serif;
    }

    /* Step 0 specific styles */
    .qualification-message {
      text-align: center;
      max-width: 1200px;
      margin: 0 auto 2rem auto;
      line-height: 1.6;
    }

    .qualification-message p {
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }

    .important-notice {
      /* background: #f8f9fa; */
      border-left: 4px solid #0A1B2F;
      padding: 1rem;
      margin: 1.5rem 0;
      border-radius: 4px;
    }

    .important-notice p {
      margin-bottom: 0;
      font-size: 1rem;
    }

    /* Disqualification message styles */
    .disqualified-message {
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
      padding: 1.5rem;
    }

    .disqualified-message p {
      color: #fff;
      margin-bottom: 1rem;
    }

    /* Outcome options specific styles */
    .outcome-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin: 0 auto;
      max-width: 1000px;
    }

    .outcome-option-box {
      display: block;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.03);
      border: 2px solid transparent;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .outcome-option-box:hover {
      border-color: rgba(184, 151, 69, 0.5);
      background: rgba(184, 151, 69, 0.05);
      box-shadow: 0 5px 20px rgba(212, 165, 116, 0.3);
      transform: translateY(-2px);
    }

    .outcome-option-box input[type="checkbox"] {
      position: absolute;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
      z-index: 1;
    }

    .outcome-option-box input[type="checkbox"]:checked~.outcome-content {
      color: #fff;
    }

    .outcome-option-box input[type="checkbox"]:checked+.outcome-content strong {
      color: #d4a574;
    }

    .outcome-option-box input[type="checkbox"]:checked+.outcome-content~.outcome-option-box,
    .outcome-option-box input[type="checkbox"]:checked~.outcome-option-box {
      border-color: #B89745;
      background: rgba(184, 151, 69, 0.1);
      box-shadow: 0 8px 30px rgba(212, 165, 116, 0.4);
    }

    .outcome-option-box input[type="checkbox"]:checked~* {
      position: relative;
    }

    .outcome-option-box:has(input:checked) {
      border-color: #B89745;
      background: rgba(184, 151, 69, 0.1);
      box-shadow: 0 8px 30px rgba(212, 165, 116, 0.4);
    }

    .outcome-content {
      position: relative;
      text-align: left;
      pointer-events: none;
    }

    .outcome-content strong {
      display: block;
      margin-bottom: 1rem;
      font-size: 1.1rem;
      color: #d4a574;
      transition: color 0.3s ease;
    }

    .outcome-list {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }

    .outcome-list li {
      position: relative;
      padding-left: 1.5rem;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
      color: #e0e0e0;
    }

    .outcome-list li:before {
      content: "â†’";
      position: absolute;
      left: 0;
      color: #B89745;
    }


    /* Mobile responsive adjustments */
    @media (max-width: 768px) {
      .outcome-options {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .outcome-option-box {
        padding: 1.25rem;
      }
    }

    .phone-input-container {
      color: #0C0C0C;
    }

    .ready-to-go-container {
      margin: 2rem 0 1rem 0;
      display: flex;
      justify-content: center;
    }

    .ready-box {
      background: #28a745;
      color: white;
      padding: 1rem 2rem;
      border-radius: 10px;
      font-size: 1.5rem;
      font-weight: bold;
      box-shadow: 0 8px 25px rgba(212, 165, 116, 0.4);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Step indicator circles at bottom */
    .step-indicator {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
    }

    .step-indicator__circle {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #D9D9D9;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 0.5rem;
    }

    .step-indicator__circle.active {
      background: rgba(212, 165, 116, 1);
    }

    /* Step visibilities and animations */
    .step {
      display: none;
      height: auto;
      opacity: 0;
      transition: 0.8s ease;
    }

    .step.active {
      display: block;
      opacity: 0;
      transition: 0.8s ease;
    }

    .step.fade-in-step {
      opacity: 1;
      transition: 0.8s ease;
    }

    /* Step content */
    .step h2 {
      color: #fff;
      margin-bottom: 2rem;
      font-weight: 600;
      font-size: 1.5rem;
    }

    .subtitle {
      font-size: 1rem;
      color: #fff;
      margin-top: -1.5rem;
      margin-bottom: 1.5rem;
      font-style: italic;
    }

    .step-inner {
      min-height: 13rem;
      padding: 2rem 1rem;
      border-radius: 25px;
      border: 2px solid #B89745;
      /* background: #FFF; */
      box-shadow: 0 8px 25px rgba(212, 165, 116, 0.4);
      margin-bottom: 2rem;
      text-align: center;
    }

    .step-inner h2 {
      text-align: center;
    }

    /* Error messages */
    .errorMsg {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      margin-top: 0.5rem;
      display: none;
      color: red;
    }

    .errorMsg.active {
      display: block;
    }

    /* Options layout */
    .options-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin: 0 auto;
      width: 100%;
      max-width: 1000px;
    }

    .simple-grid {
      max-width: 600px;
      grid-template-columns: 1fr 1fr;
    }

    .options-grid label {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 0.5rem;
      font-size: 1.25rem;
      cursor: pointer;
      position: relative;
      height: auto;
      min-height: 34px;
      white-space: normal;
    }

    /* Custom radio and checkbox styling */
    label {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 0.5rem;
      font-size: 1.25rem;
      cursor: pointer;
      position: relative;
      height: auto;
      min-height: 34px;
    }

    label p {
      margin-left: 0.5rem;
      margin-bottom: 0px;
      margin-top: 0px;
      display: inline-block;
      text-align: left;
      color: #fff;
      line-height: 1.4;
      vertical-align: middle;
      white-space: normal;
    }

    input[type="radio"],
    input[type="checkbox"] {
      opacity: 0;
      position: absolute;
      display: none !important;
    }

    .custom-radio,
    .custom-checkbox {
      display: inline-block;
      width: 34px;
      height: 34px;
      border: 2px solid #D9D9D9;
      position: relative;
      background-color: white;
      flex-shrink: 0;
      vertical-align: middle;
    }

    .custom-radio {
      border-radius: 50%;
    }

    .custom-checkbox {
      border-radius: 6px;
      margin-bottom: 12px;
    }

    input[type="radio"]:checked+.custom-radio {
      border-color: #B89745;
    }

    input[type="radio"]:checked+.custom-radio:after {
      content: "";
      position: absolute;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #B89745;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    input[type="checkbox"]:checked+.custom-checkbox {
      border-color: #B89745;
      background-color: #B89745;
    }

    input[type="checkbox"]:checked+.custom-checkbox:after {
      content: "";
      position: absolute;
      width: 8px;
      height: 14px;
      border: solid white;
      border-width: 0 3px 3px 0;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(45deg);
    }

    /* Arrow icon */
    .arrow-icon {
      width: 26px;
      height: 26px;
      margin-left: 8px;
      display: inline-block;
      vertical-align: middle;
    }

    /* Contact form styles */
    .contact-form {
      max-width: 600px;
      margin: 0 auto;
      text-align: left;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .text-label {
      display: block;
      margin-bottom: 0.25rem;
      font-weight: 500;
      text-align: left;
      margin-left: 0;
      padding-left: 0;
    }

    .form-input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
    }

    .field-error {
      color: #d9534f;
      font-size: 0.875rem;
      margin-top: 0.25rem;
      display: none;
    }

    /* Phone input styling */
    .phone-input-container {
      display: flex;
    }

    .country-select-container {
      position: relative;
      min-width: 120px;
    }

    .country-select {
      width: 100%;
      height: 100%;
      padding: 8px 30px 8px 45px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background-color: white;
      cursor: pointer;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-repeat: no-repeat;
      background-position: right 10px center;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24'%3E%3Cpath fill='%23333' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
    }

    .flag-icon {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 1.5rem;
      height: 1rem;
      background-size: contain;
      background-repeat: no-repeat;
      pointer-events: none;
    }

    .phone-number-input {
      flex-grow: 1;
    }

    .iti {
      width: 100%;
    }

    .iti__flag-container {
      height: 100%;
    }

    .iti__country-name {
      color: black !important;
    }

    /* Hide the original phone input container styles as they're no longer needed */
    .country-select-container,
    .flag-icon,
    .country-select {
      display: none;
    }

    /* Disqualification styling */
    .disqualified {
      text-align: center;
      padding: 1.5rem;
      background-color: #ffefef;
      color: #c00;
      border: 1px solid #fdd;
      border-radius: 4px;
      margin-top: 1rem;
    }

    .disqualified p {
      margin-bottom: 1rem;
    }

    .disqualified p:last-child {
      margin-bottom: 0;
    }

    .calendly-hidden {
      height: 1px;
      opacity: 1;
      width: 1px;
      overflow: hidden;
      display: block !important;
    }

    /* Center the last option if it's alone in its row on desktop */
    @media (min-width: 769px) {
      .options-grid label:nth-child(odd):last-child {
        grid-column: 1 / -1;
        max-width: 50%;
        margin: 0 auto;
      }
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .options-grid {
        grid-template-columns: 1fr;
        /* Change from 2 columns to 1 column on mobile */
        padding: 0 10px;
      }

      .outcome-options {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .simple-grid {
        grid-template-columns: 1fr;
      }

      .step h2 {
        font-size: 1.25rem;
        padding: 0 15px;
      }

      label {
        font-size: 1.1rem;
      }

      .step-inner {
        padding: 1.5rem 1rem;
        border-radius: 15px;
      }

      /* Make phone input responsive */
      .phone-input-container {
        flex-direction: column;
      }

      .country-select-container {
        width: 100%;
        margin-bottom: 0.5rem;
      }

      .phone-number-input {
        width: 100%;
      }

      /* Mobile adjustments for step 0 */
      .qualification-message {
        text-align: center;
        padding: 0 1rem;
      }

      .qualification-message p {
        font-size: 1rem;
      }

      .ready-box {
        font-size: 1.25rem;
        padding: 0.75rem 1.5rem;
      }
    }
  </style>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/js/intlTelInput.min.js"></script>
  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/css/intlTelInput.min.css">

  <script>
    //const counter = new Counter({ workspace: 'funnel-formular' });
    const pageViewUrl = "https://script.google.com/macros/s/AKfycby7uhOsAUN_G_HUa0l4yFO9h_wfRwvowxqEAIz6iLb0tURI0Hs3fmtDy1Rs3kX-DZMDwQ/exec?action=increment&counter=Page Views&variant=Variant B";
    fetch(pageViewUrl);
    const question0Url = "https://script.google.com/macros/s/AKfycby7uhOsAUN_G_HUa0l4yFO9h_wfRwvowxqEAIz6iLb0tURI0Hs3fmtDy1Rs3kX-DZMDwQ/exec?action=increment&counter=Question 0&variant=Variant B";
    const question1Url = "https://script.google.com/macros/s/AKfycby7uhOsAUN_G_HUa0l4yFO9h_wfRwvowxqEAIz6iLb0tURI0Hs3fmtDy1Rs3kX-DZMDwQ/exec?action=increment&counter=Question 1&variant=Variant B";
    const question1bUrl = "https://script.google.com/macros/s/AKfycby7uhOsAUN_G_HUa0l4yFO9h_wfRwvowxqEAIz6iLb0tURI0Hs3fmtDy1Rs3kX-DZMDwQ/exec?action=increment&counter=Question 1b&variant=Variant B";
    const question2Url = "https://script.google.com/macros/s/AKfycby7uhOsAUN_G_HUa0l4yFO9h_wfRwvowxqEAIz6iLb0tURI0Hs3fmtDy1Rs3kX-DZMDwQ/exec?action=increment&counter=Question 2&variant=Variant B";
    const question3Url = "https://script.google.com/macros/s/AKfycby7uhOsAUN_G_HUa0l4yFO9h_wfRwvowxqEAIz6iLb0tURI0Hs3fmtDy1Rs3kX-DZMDwQ/exec?action=increment&counter=Question 3&variant=Variant B";
    const question4Url = "https://script.google.com/macros/s/AKfycby7uhOsAUN_G_HUa0l4yFO9h_wfRwvowxqEAIz6iLb0tURI0Hs3fmtDy1Rs3kX-DZMDwQ/exec?action=increment&counter=Question 4&variant=Variant B";

    // Cookie functions
    function setCookie(name, value, days) {
      const expires = new Date();
      expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
      document.cookie = name + "=" + value + ";expires=" + expires.toUTCString() + ";path=/";
    }

    function getCookie(name) {
      const nameEQ = name + "=";
      const ca = document.cookie.split(';');
      for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
      }
      return null;
    }

    // Check if user is disqualified
    function checkDisqualification() {
      const disqualified = getCookie('nuvetra_disqualified');
      if (disqualified === 'true') {
        // Skip to disqualified step
        document.getElementById("step0").classList.remove("active", "fade-in-step");
        document.getElementById("stepDisqualified").classList.add("active", "fade-in-step");
        setActiveCircle(-1); // Hide indicators for disqualified users
      }
    }

    // Initialize the telephone input plugin
    const phoneInput = window.intlTelInput(document.querySelector("#phoneNumber"), {
      utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/js/utils.js",
      separateDialCode: true,
      initialCountry: "ca", // Default to Canada
      preferredCountries: ["ca, us"] // Your most common countries first
    });



    // Track form data
    const formData = {
      currentSituation: null,
      structureExperience: null,
      fullName: null,
      email: null,
      phone: null,
      optin: null,
      countrycode: null,
      outcome: [], // Array for multiple selections
      revenue: null
    };

    // Track UTM parameters
    function getUrlParameters() {
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      return urlParams;
    }

    function getUtmParameters() {
      const params = getUrlParameters();
      const utmParams = {};

      const utmKeys = [
        'utm_source',
        'utm_medium',
        'utm_campaign',
        'utm_term',
        'utm_content'
      ];

      utmKeys.forEach(key => {
        if (params.has(key)) {
          utmParams[key] = params.get(key);
        }
      });

      return utmParams;
    }

    function getFacebookParameters() {
      const params = getUrlParameters();
      const fbParams = {};

      const fbKeys = [
        'fbclid',
        'fb_source',
        'fb_ref',
        'fb_campaign_id',
        'fb_campaign',
        'fb_content'
      ];

      fbKeys.forEach(key => {
        if (params.has(key)) {
          fbParams[key] = params.get(key);
        }
      });

      return fbParams;
    }

    function saveTrackingParameters() {
      const utmParams = getUtmParameters();
      const fbParams = getFacebookParameters();

      if (Object.keys(utmParams).length > 0) {
        localStorage.setItem('utmParameters', JSON.stringify(utmParams));
        console.log('Saved UTM parameters:', utmParams);
      }

      if (Object.keys(fbParams).length > 0) {
        localStorage.setItem('fbParameters', JSON.stringify(fbParams));
        console.log('Saved Facebook parameters:', fbParams);
      }

      window.utmParameters = utmParams;
      window.fbParameters = fbParams;

      return {
        utmParameters: utmParams,
        fbParameters: fbParams
      };
    }

    function loadTrackingParameters() {
      let utmParams = {};
      let fbParams = {};

      const savedUtmParams = localStorage.getItem('utmParameters');
      if (savedUtmParams) {
        try {
          utmParams = JSON.parse(savedUtmParams);
          console.log('Loaded UTM parameters:', utmParams);
        } catch (e) {
          console.error('Error parsing saved UTM parameters:', e);
        }
      }

      const savedFbParams = localStorage.getItem('fbParameters');
      if (savedFbParams) {
        try {
          fbParams = JSON.parse(savedFbParams);
          console.log('Loaded Facebook parameters:', fbParams);
        } catch (e) {
          console.error('Error parsing saved Facebook parameters:', e);
        }
      }

      window.utmParameters = utmParams;
      window.fbParameters = fbParams;

      return {
        utmParameters: utmParams,
        fbParameters: fbParams
      };
    }

    function initTrackingParameters() {
      const currentParams = saveTrackingParameters();

      if (Object.keys(currentParams.utmParameters).length === 0 &&
        Object.keys(currentParams.fbParameters).length === 0) {
        loadTrackingParameters();
      }

      return {
        utmParameters: window.utmParameters,
        fbParameters: window.fbParameters
      };
    }

    const trackingParams = initTrackingParameters();

    // Set active step indicator
    function setActiveCircle(stepNumber) {
      const circles = document.querySelectorAll(".step-indicator__circle");
      if (stepNumber === -1) {
        // Hide indicators for disqualified users
        document.querySelector(".step-indicator").style.display = 'none';
        return;
      }
      document.querySelector(".step-indicator").style.display = 'flex';
      circles.forEach((c) => c.classList.remove("active"));
      if (stepNumber < circles.length) {
        circles[stepNumber].classList.add("active");
      }
    }


    // Step 0 handler
    function handleStep0() {
      document.getElementById("step0").classList.remove("fade-in-step");
      setTimeout(() => {
        document.getElementById("step0").classList.remove("active");
        document.getElementById("step1").classList.add("active");
      }, 800);
      setTimeout(() => {
        document.getElementById("step1").classList.add("fade-in-step");
      }, 900);
      fetch(question0Url);
      setActiveCircle(1);
    }

    // Step 1 handler - Current Situation (Qualifying)
    function handleStep1() {
      const currentSituation = document.querySelector('input[name="currentSituation"]:checked');

      if (!currentSituation) {
        document.getElementById("errorMsg1").classList.add("active");
        return;
      }

      document.getElementById("errorMsg1").classList.remove("active");
      formData.currentSituation = currentSituation.value;
      console.log("Current situation:", formData.currentSituation);

      // Check if disqualified
      if (formData.currentSituation === "None of them") {
        // User is disqualified
        setCookie('nuvetra_disqualified', 'true', 30);

        // Show disqualification message
        document.getElementById("step1").classList.remove("fade-in-step");
        setTimeout(() => {
          document.getElementById("step1").classList.remove("active");
          document.getElementById("stepDisqualified").classList.add("active");
        }, 800);
        setTimeout(() => {
          document.getElementById("stepDisqualified").classList.add("fade-in-step");
        }, 900);

        // Submit data for tracking
        submitFormData(true);
        return;
      }

      // Continue to structure experience question (step 1b)
      document.getElementById("step1").classList.remove("fade-in-step");
      setTimeout(() => {
        document.getElementById("step1").classList.remove("active");
        document.getElementById("step1b").classList.add("active");
      }, 800);
      setTimeout(() => {
        document.getElementById("step1b").classList.add("fade-in-step");
      }, 900);
      fetch(question1Url);
      setActiveCircle(2);
    }

    // Step 1b handler - Structure Experience
    function handleStep1b() {
      const structureExperience = document.querySelector('input[name="structureExperience"]:checked');

      if (!structureExperience) {
        document.getElementById("errorMsg1b").classList.add("active");
        return;
      }

      document.getElementById("errorMsg1b").classList.remove("active");
      formData.structureExperience = structureExperience.value;
      console.log("Structure experience:", formData.structureExperience);

      // Continue to outcome interest
      document.getElementById("step1b").classList.remove("fade-in-step");
      setTimeout(() => {
        document.getElementById("step1b").classList.remove("active");
        document.getElementById("step3").classList.add("active");
      }, 800);
      setTimeout(() => {
        document.getElementById("step3").classList.add("fade-in-step");
      }, 900);
      fetch(question1bUrl);
      setActiveCircle(3);
    }

    // Step 2 handler - Outcome Interest
    function handleStep2() {
      const outcomes = document.querySelectorAll('input[name="outcome"]:checked');

      if (outcomes.length === 0) {
        document.getElementById("errorMsg3").classList.add("active");
        return;
      }

      document.getElementById("errorMsg3").classList.remove("active");

      formData.outcome = [];
      outcomes.forEach(outcome => {
        formData.outcome.push(outcome.value);
      });
      console.log("Selected outcomes:", formData.outcome);

      document.getElementById("step3").classList.remove("fade-in-step");
      setTimeout(() => {
        document.getElementById("step3").classList.remove("active");
        document.getElementById("step2").classList.add("active");
      }, 800);
      setTimeout(() => {
        document.getElementById("step2").classList.add("fade-in-step");
      }, 900);
      fetch(question2Url);
      setActiveCircle(4);
    }

    // Step 3 handler - Contact Info
    function handleStep3() {
      const fullName = document.getElementById("fullName").value.trim();
      const email = document.getElementById("emailAddress").value.trim();

      document.getElementById("nameError").style.display = "none";
      document.getElementById("emailError").style.display = "none";
      document.getElementById("phoneError").style.display = "none";

      let isValid = true;

      if (fullName === "") {
        document.getElementById("nameError").style.display = "block";
        isValid = false;
      }

      if (email === "" || !validateEmail(email)) {
        document.getElementById("emailError").style.display = "block";
        isValid = false;
      }

      if (!validatePhone(phoneInput)) {
        document.getElementById("phoneError").style.display = "block";
        isValid = false;
      }

      if (!isValid) {
        return;
      }

      formData.fullName = fullName;
      formData.email = email;
      formData.phone = phoneInput.getNumber(intlTelInputUtils.numberFormat.NATIONAL);
      formData.optin = document.getElementById("optin").checked;
      
      
      formData.countrycode = "+" + phoneInput.getSelectedCountryData().dialCode;
      console.log("Contact info:", formData.fullName, formData.email, formData.phone);

      let calendlyInitialized = false;

      function initializeCalendly() {
      if (calendlyInitialized) return;

      var link = "https://calendly.com/d/csns-w7g-c7p/nuvetra-intro-call/?a1=" + formData.countrycode.substring(1) + formData.phone;
      
      const calContainer = document.getElementById('calendlyContainer');
      calContainer.innerHTML = '';
      
      Calendly.initInlineWidget({
        url: link,
        parentElement: calContainer,
        resize: true,
        prefill: {
          name: formData.fullName,
          email: formData.email,
          a1: formData.countrycode.substring(1) + formData.phone,
        }
      });
      
      calendlyInitialized = true;
    }

      // Move to revenue question (step5)
      document.getElementById("step2").classList.remove("fade-in-step");
      setTimeout(() => {
        document.getElementById("step2").classList.remove("active");
        document.getElementById("step5").classList.add("active");
        initializeCalendly();
      }, 800);
      setTimeout(() => {
        document.getElementById("step5").classList.add("fade-in-step");
      }, 900);
      fetch(question3Url);
      setActiveCircle(5);
    }

    // Step 5 handler - Revenue (Qualifying)
    function handleStep5() {
      const revenue = document.querySelector('input[name="revenue"]:checked');
      if (!revenue) {
        document.getElementById("errorMsg5").classList.add("active");
        return;
      }

      formData.revenue = revenue.value;
      console.log("Revenue:", formData.revenue);

      // Check if disqualified
      if (formData.revenue === "No, my companies annual revenue is below $300K") {
        // User is disqualified
        setCookie('nuvetra_disqualified', 'true', 30);

        // Show disqualification message
        document.getElementById("step5").classList.remove("fade-in-step");
        setTimeout(() => {
          document.getElementById("step5").classList.remove("active");
          document.getElementById("stepDisqualified").classList.add("active");
        }, 800);
        setTimeout(() => {
          document.getElementById("stepDisqualified").classList.add("fade-in-step");
        }, 900);

        // Submit data for tracking
        submitFormData(true);
        return;
      }

      // User qualifies - proceed with submission and show calendly
      submitFormData(false);

      document.getElementById("step5").classList.remove("fade-in-step");
      document.getElementById("step6").classList.remove("calendly-hidden");
      setTimeout(() => {
        document.getElementById("step5").classList.remove("active");
        document.getElementById("step6").classList.add("active");
      }, 800);
      setTimeout(() => {
        document.getElementById("step6").classList.add("fade-in-step");
      }, 900);
      fetch(question4Url);
      setActiveCircle(6);
    }

    // Function to submit form data
    function submitFormData(isDisqualified) {
      // Process and submit form data
      const outcomeString = formData.outcome.join(", ");
      const answers = `${formData.currentSituation}-${formData.structureExperience}-${outcomeString}-${formData.revenue}`;
      console.log(answers);

      const zapierWebhookUrl1 = "https://hooks.zapier.com/hooks/catch/24204039/u6euqu3/";
      const zapierWebhookUrl2 = "https://hooks.zapier.com/hooks/catch/24204039/u6euqsd/";

      // Get Wistia video tracking
      function getWistiaPercentWatched() {
        return new Promise((resolve) => {
          // Check if YouTube fallback is showing by checking computed styles
          const youtubeVideo = document.getElementById('youtube_video');
          const computedStyle = window.getComputedStyle(youtubeVideo);
          
          if (computedStyle.display !== "none") {
            console.log('YouTube fallback detected - video tracking disabled');
            resolve("Not Tracked (YouTube)");
            return;
          }

          try {
            const wistiaPlayer = document.querySelector('wistia-player');
            
            if (!wistiaPlayer) {
              console.log('Wistia player element not found');
              resolve("Not Tracked");
              return;
            }

            // Listen for api-ready event to know when the player is ready
            const handleApiReady = () => {
              // percentWatched is a property, not a method!
              const percent = Math.round(wistiaPlayer.percentWatched * 100);
              console.log(`The viewer has watched ${percent}% of the video (Wistia).`);
              resolve(percent);
            };

            // Check if API is already ready
            if (typeof wistiaPlayer.percentWatched !== 'undefined') {
              handleApiReady();
            } else {
              // Wait for api-ready event
              wistiaPlayer.addEventListener('api-ready', handleApiReady, { once: true });
              
              // Fallback timeout
              setTimeout(() => {
                console.log('Wistia API ready timeout');
                resolve("Not Tracked");
              }, 5000);
            }
            
          } catch (error) {
            console.log('Could not retrieve Wistia tracking:', error);
            resolve("Not Tracked");
          }
        });
      }

      var percentWatched = "Not Tracked";
getWistiaPercentWatched().then(watchedPercent => {
    percentWatched = watchedPercent;
      const zapierData = {
        fullName: formData.fullName,
        email: formData.email,
        phone: formData.phone,
        optin: formData.optin,
        countryCode: formData.countrycode,
        currentSituation: formData.currentSituation,
        structureExperience: formData.structureExperience,
        outcome: outcomeString,
        revenue: formData.revenue,
        funnel: "Canada VSL",
        url: "https://global-sovereign.com",
        timestamp: Date.now(),
        answers: answers,
        percentWatched: percentWatched,
        trackingParams: trackingParams,
        variant: "Variant B",
      };

      // Add tracking parameters
      Object.entries(trackingParams.utmParameters).forEach(([key, value]) => {
        zapierData[key] = value;
      });
      Object.entries(trackingParams.fbParameters).forEach(([key, value]) => {
        zapierData[key] = value;
      });

      const submitBtn = document.querySelector("#step5 .btn-primary");
      const originalBtnText = submitBtn.innerHTML;
      submitBtn.innerHTML = "Working...";
      submitBtn.disabled = true;

      // Function to send data to a webhook
      function sendToWebhook(webhookUrl, data, callback) {
        const formElement = document.createElement('form');
        formElement.style.display = 'none';
        formElement.method = 'POST';
        formElement.action = webhookUrl;
        formElement.target = 'zapier_iframe_' + Date.now();

        const iframe = document.createElement('iframe');
        iframe.name = formElement.target;
        iframe.style.display = 'none';
        document.body.appendChild(iframe);

        Object.keys(data).forEach(key => {
          const input = document.createElement('input');
          input.type = 'hidden';
          input.name = key;
          input.value = data[key];
          formElement.appendChild(input);
        });

        document.body.appendChild(formElement);

        iframe.onload = function () {
          console.log("Data sent to webhook successfully:", webhookUrl);

          // Clean up
          if (document.body.contains(formElement)) document.body.removeChild(formElement);
          if (document.body.contains(iframe)) document.body.removeChild(iframe);

          callback(true);
        };

        // Set timeout for this webhook
        setTimeout(() => {
          console.error("Timeout sending data to webhook:", webhookUrl);

          // Clean up
          if (document.body.contains(formElement)) document.body.removeChild(formElement);
          if (document.body.contains(iframe)) document.body.removeChild(iframe);

          callback(false);
        }, 5000);

        formElement.submit();
      }

      // Track completion of both webhooks
      let completedWebhooks = 0;
      let hasProcessed = false;

      function onWebhookComplete(success) {
        completedWebhooks++;

        if (success) {
          console.log(`Webhook ${completedWebhooks} completed successfully`);
        } else {
          console.log(`Webhook ${completedWebhooks} failed or timed out`);
        }

        // Restore button when both webhooks are complete
        if (completedWebhooks >= 2 && !hasProcessed) {
          hasProcessed = true;
          submitBtn.innerHTML = originalBtnText;
          submitBtn.disabled = false;
        }
      }

      // Send to both webhooks
      sendToWebhook(zapierWebhookUrl1, zapierData, onWebhookComplete);
      sendToWebhook(zapierWebhookUrl2, zapierData, onWebhookComplete);
      });
    }

    // Validation helpers
    function validateEmail(email) {
      const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(String(email).toLowerCase());
    }

    function validatePhone(phoneInputInstance) {
      return phoneInputInstance.isValidNumber();
    }

    // Initialize on DOM load
    document.addEventListener('DOMContentLoaded', function () {
      checkDisqualification(); // Check if user was previously disqualified
      console.log("Form initialized with new question flow");
    });
  </script>

  <script>
    function applyForAppointment() {
      // Add your appointment booking logic here
      // For example, redirect to a booking page or open a modal
      //alert('Weiterleitung zur Terminbuchung...');
      window.location.href = '#form';
    }

    // Enhanced animation when page loads
    window.addEventListener('load', function () {
      const elements = document.querySelectorAll('.logo-section, .headline, .video-container, .cta-button');
      elements.forEach((el, index) => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';

        setTimeout(() => {
          el.style.opacity = '1';
          el.style.transform = 'translateY(0)';
        }, index * 150);
      });
    });

    // Parallax effect on scroll (subtle)
    window.addEventListener('scroll', function () {
      const scrolled = window.pageYOffset;
      const decorations = document.querySelectorAll('.decoration');
      decorations.forEach((el, index) => {
        const speed = index === 0 ? 0.5 : 0.3;
        el.style.transform = `translateY(${scrolled * speed}px) rotate(${index === 0 ? 15 : -30}deg)`;
      });
    });
  </script>

  <style>
    footer {
      color: #fff;
      padding: 2rem 0;
      width: 100%;
    }

    .footer-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .footer-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .footer-logo-section {
      display: block;

    }

    .footer-logo-icon {
      width: auto;
      height: 150px;
      display: block;
      margin-bottom: 10px;
    }


    .footer-logo-text {
      font-size: 1.1rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      color: #fff;
    }

    .social-links {
      display: flex;
      gap: 1.25rem;
      align-items: center;
      margin-right: 20px;
    }

    .social-links a {
      color: #fff;
      text-decoration: none;
      transition: opacity 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .social-links a:hover {
      opacity: 0.7;
    }

    .social-links svg {
      width: 20px;
      height: 20px;
    }

    .utility-links {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      color: #fff;
      font-size: 0.9rem;
    }

    .utility-links a {
      color: #fff;
      text-decoration: none;
      transition: color 0.2s ease;
    }

    .utility-links a:hover {
      color: #fff;
    }

    .footer-bottom {
      text-align: left;
      width: 100%;
      display: block;
      color: #fff;
      font-size: 16px !important;
    }

    @media (max-width: 768px) {
      .footer-top {
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
      }

      .footer-logo-icon {
        margin-left: auto;
        margin-right: auto;
      }

      .social-links {
        order: 3;
        margin: 0;
      }

      .utility-links {
        order: 2;
      }

      .footer-bottom {
        margin-top: 1.5rem;
      }
    }
  </style>

  <footer>
    <div class="footer-container">
      <div class="footer-top">
        <div class="footer-logo-section">
          <img src="/Logo.png" alt="Global Sovereign Logo" class="footer-logo-icon">
          <div class="footer-bottom" style="font-size: 0.5rem !important;" <p>Nuvetra Inc. 2025, All Rights Reserved</p>
          </div>
        </div>

        <div class="social-links">
          <!-- Instagram-->
          <a href="https://www.instagram.com/dr.robincassidy" aria-label="Instagram">
            <svg fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1 1 12.324 0 6.162 6.162 0 0 1-12.324 0zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm4.965-10.405a1.44 1.44 0 1 1 2.881.001 1.44 1.44 0 0 1-2.881-.001z" />
            </svg>
          </a>

          <!-- YouTube -->
          <a href="https://www.youtube.com/@Dr.RobinCassidy" aria-label="YouTube">
            <svg fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
            </svg>
          </a>
        </div>

        <div class="utility-links">
          <a href="/imprint">Imprint</a>
          <span>-</span>
          <a href="/privacy">Privacy</a>
        </div>
      </div>


    </div>
  </footer>
</body>

</html>
